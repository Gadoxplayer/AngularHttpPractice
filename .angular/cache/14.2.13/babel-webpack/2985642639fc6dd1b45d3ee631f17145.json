{"ast":null,"code":"import _possibleConstructorReturn from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _isNativeReflectConstruct from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js\";\nimport _getPrototypeOf from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nimport { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize) {\n  var startWindowEvery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return function windowCountOperatorFunction(source) {\n    return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n  };\n}\nvar WindowCountOperator = /*#__PURE__*/function () {\n  function WindowCountOperator(windowSize, startWindowEvery) {\n    _classCallCheck(this, WindowCountOperator);\n    this.windowSize = windowSize;\n    this.startWindowEvery = startWindowEvery;\n  }\n  _createClass(WindowCountOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    }\n  }]);\n  return WindowCountOperator;\n}();\nvar WindowCountSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(WindowCountSubscriber, _Subscriber);\n  function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n    var _this;\n    _classCallCheck(this, WindowCountSubscriber);\n    _this = _callSuper(this, WindowCountSubscriber, [destination]);\n    _this.destination = destination;\n    _this.windowSize = windowSize;\n    _this.startWindowEvery = startWindowEvery;\n    _this.windows = [new Subject()];\n    _this.count = 0;\n    destination.next(_this.windows[0]);\n    return _this;\n  }\n  _createClass(WindowCountSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize;\n      var destination = this.destination;\n      var windowSize = this.windowSize;\n      var windows = this.windows;\n      var len = windows.length;\n      for (var i = 0; i < len && !this.closed; i++) {\n        windows[i].next(value);\n      }\n      var c = this.count - windowSize + 1;\n      if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n        windows.shift().complete();\n      }\n      if (++this.count % startWindowEvery === 0 && !this.closed) {\n        var window = new Subject();\n        windows.push(window);\n        destination.next(window);\n      }\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      var windows = this.windows;\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().error(err);\n        }\n      }\n      this.destination.error(err);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var windows = this.windows;\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().complete();\n        }\n      }\n      this.destination.complete();\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      this.count = 0;\n      this.windows = null;\n    }\n  }]);\n  return WindowCountSubscriber;\n}(Subscriber);","map":{"version":3,"names":["Subscriber","Subject","windowCount","windowSize","startWindowEvery","arguments","length","undefined","windowCountOperatorFunction","source","lift","WindowCountOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","WindowCountSubscriber","_Subscriber","_inherits","destination","_this","_callSuper","windows","count","next","_next","len","i","closed","c","shift","complete","window","push","_error","err","error","_complete","_unsubscribe"],"sources":["D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/rxjs/_esm2015/internal/operators/windowCount.js"],"sourcesContent":["import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize, startWindowEvery = 0) {\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nclass WindowCountOperator {\n    constructor(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    }\n}\nclass WindowCountSubscriber extends Subscriber {\n    constructor(destination, windowSize, startWindowEvery) {\n        super(destination);\n        this.destination = destination;\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n        this.windows = [new Subject()];\n        this.count = 0;\n        destination.next(this.windows[0]);\n    }\n    _next(value) {\n        const startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        const destination = this.destination;\n        const windowSize = this.windowSize;\n        const windows = this.windows;\n        const len = windows.length;\n        for (let i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        const c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            const window = new Subject();\n            windows.push(window);\n            destination.next(window);\n        }\n    }\n    _error(err) {\n        const windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    }\n    _complete() {\n        const windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    }\n    _unsubscribe() {\n        this.count = 0;\n        this.windows = null;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}