{"ast":null,"code":"import _possibleConstructorReturn from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _isNativeReflectConstruct from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js\";\nimport _getPrototypeOf from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function window(windowBoundaries) {\n  return function windowOperatorFunction(source) {\n    return source.lift(new WindowOperator(windowBoundaries));\n  };\n}\nvar WindowOperator = /*#__PURE__*/function () {\n  function WindowOperator(windowBoundaries) {\n    _classCallCheck(this, WindowOperator);\n    this.windowBoundaries = windowBoundaries;\n  }\n  _createClass(WindowOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      var windowSubscriber = new WindowSubscriber(subscriber);\n      var sourceSubscription = source.subscribe(windowSubscriber);\n      if (!sourceSubscription.closed) {\n        windowSubscriber.add(innerSubscribe(this.windowBoundaries, new SimpleInnerSubscriber(windowSubscriber)));\n      }\n      return sourceSubscription;\n    }\n  }]);\n  return WindowOperator;\n}();\nvar WindowSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(WindowSubscriber, _SimpleOuterSubscribe);\n  function WindowSubscriber(destination) {\n    var _this;\n    _classCallCheck(this, WindowSubscriber);\n    _this = _callSuper(this, WindowSubscriber, [destination]);\n    _this.window = new Subject();\n    destination.next(_this.window);\n    return _this;\n  }\n  _createClass(WindowSubscriber, [{\n    key: \"notifyNext\",\n    value: function notifyNext() {\n      this.openWindow();\n    }\n  }, {\n    key: \"notifyError\",\n    value: function notifyError(error) {\n      this._error(error);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete() {\n      this._complete();\n    }\n  }, {\n    key: \"_next\",\n    value: function _next(value) {\n      this.window.next(value);\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      this.window.error(err);\n      this.destination.error(err);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.window.complete();\n      this.destination.complete();\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      this.window = null;\n    }\n  }, {\n    key: \"openWindow\",\n    value: function openWindow() {\n      var prevWindow = this.window;\n      if (prevWindow) {\n        prevWindow.complete();\n      }\n      var destination = this.destination;\n      var newWindow = this.window = new Subject();\n      destination.next(newWindow);\n    }\n  }]);\n  return WindowSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["Subject","SimpleOuterSubscriber","innerSubscribe","SimpleInnerSubscriber","window","windowBoundaries","windowOperatorFunction","source","lift","WindowOperator","_classCallCheck","_createClass","key","value","call","subscriber","windowSubscriber","WindowSubscriber","sourceSubscription","subscribe","closed","add","_SimpleOuterSubscribe","_inherits","destination","_this","_callSuper","next","notifyNext","openWindow","notifyError","error","_error","notifyComplete","_complete","_next","err","complete","_unsubscribe","prevWindow","newWindow"],"sources":["D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/rxjs/_esm2015/internal/operators/window.js"],"sourcesContent":["import { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nclass WindowOperator {\n    constructor(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    call(subscriber, source) {\n        const windowSubscriber = new WindowSubscriber(subscriber);\n        const sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(innerSubscribe(this.windowBoundaries, new SimpleInnerSubscriber(windowSubscriber)));\n        }\n        return sourceSubscription;\n    }\n}\nclass WindowSubscriber extends SimpleOuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.window = new Subject();\n        destination.next(this.window);\n    }\n    notifyNext() {\n        this.openWindow();\n    }\n    notifyError(error) {\n        this._error(error);\n    }\n    notifyComplete() {\n        this._complete();\n    }\n    _next(value) {\n        this.window.next(value);\n    }\n    _error(err) {\n        this.window.error(err);\n        this.destination.error(err);\n    }\n    _complete() {\n        this.window.complete();\n        this.destination.complete();\n    }\n    _unsubscribe() {\n        this.window = null;\n    }\n    openWindow() {\n        const prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        const destination = this.destination;\n        const newWindow = this.window = new Subject();\n        destination.next(newWindow);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}