{"ast":null,"code":"import _get from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _classCallCheck from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _possibleConstructorReturn from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _isNativeReflectConstruct from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js\";\nimport _getPrototypeOf from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var VirtualTimeScheduler = /*#__PURE__*/function (_AsyncScheduler) {\n  _inherits(VirtualTimeScheduler, _AsyncScheduler);\n  function VirtualTimeScheduler() {\n    var _this;\n    var SchedulerAction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : VirtualAction;\n    var maxFrames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.POSITIVE_INFINITY;\n    _classCallCheck(this, VirtualTimeScheduler);\n    _this = _callSuper(this, VirtualTimeScheduler, [SchedulerAction, function () {\n      return _this.frame;\n    }]);\n    _this.maxFrames = maxFrames;\n    _this.frame = 0;\n    _this.index = -1;\n    return _this;\n  }\n  _createClass(VirtualTimeScheduler, [{\n    key: \"flush\",\n    value: function flush() {\n      var actions = this.actions,\n        maxFrames = this.maxFrames;\n      var error, action;\n      while ((action = actions[0]) && action.delay <= maxFrames) {\n        actions.shift();\n        this.frame = action.delay;\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      }\n      if (error) {\n        while (action = actions.shift()) {\n          action.unsubscribe();\n        }\n        throw error;\n      }\n    }\n  }]);\n  return VirtualTimeScheduler;\n}(AsyncScheduler);\nVirtualTimeScheduler.frameTimeFactor = 10;\nexport var VirtualAction = /*#__PURE__*/function (_AsyncAction) {\n  _inherits(VirtualAction, _AsyncAction);\n  function VirtualAction(scheduler, work) {\n    var _this2;\n    var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : scheduler.index += 1;\n    _classCallCheck(this, VirtualAction);\n    _this2 = _callSuper(this, VirtualAction, [scheduler, work]);\n    _this2.scheduler = scheduler;\n    _this2.work = work;\n    _this2.index = index;\n    _this2.active = true;\n    _this2.index = scheduler.index = index;\n    return _this2;\n  }\n  _createClass(VirtualAction, [{\n    key: \"schedule\",\n    value: function schedule(state) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (!this.id) {\n        return _get(_getPrototypeOf(VirtualAction.prototype), \"schedule\", this).call(this, state, delay);\n      }\n      this.active = false;\n      var action = new VirtualAction(this.scheduler, this.work);\n      this.add(action);\n      return action.schedule(state, delay);\n    }\n  }, {\n    key: \"requestAsyncId\",\n    value: function requestAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this.delay = scheduler.frame + delay;\n      var actions = scheduler.actions;\n      actions.push(this);\n      actions.sort(VirtualAction.sortActions);\n      return true;\n    }\n  }, {\n    key: \"recycleAsyncId\",\n    value: function recycleAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      return undefined;\n    }\n  }, {\n    key: \"_execute\",\n    value: function _execute(state, delay) {\n      if (this.active === true) {\n        return _get(_getPrototypeOf(VirtualAction.prototype), \"_execute\", this).call(this, state, delay);\n      }\n    }\n  }], [{\n    key: \"sortActions\",\n    value: function sortActions(a, b) {\n      if (a.delay === b.delay) {\n        if (a.index === b.index) {\n          return 0;\n        } else if (a.index > b.index) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else if (a.delay > b.delay) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n  }]);\n  return VirtualAction;\n}(AsyncAction);","map":{"version":3,"names":["AsyncAction","AsyncScheduler","VirtualTimeScheduler","_AsyncScheduler","_inherits","_this","SchedulerAction","arguments","length","undefined","VirtualAction","maxFrames","Number","POSITIVE_INFINITY","_classCallCheck","_callSuper","frame","index","_createClass","key","value","flush","actions","error","action","delay","shift","execute","state","unsubscribe","frameTimeFactor","_AsyncAction","scheduler","work","_this2","active","schedule","id","_get","_getPrototypeOf","prototype","call","add","requestAsyncId","push","sort","sortActions","recycleAsyncId","_execute","a","b"],"sources":["D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/rxjs/_esm2015/internal/scheduler/VirtualTimeScheduler.js"],"sourcesContent":["import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport class VirtualTimeScheduler extends AsyncScheduler {\n    constructor(SchedulerAction = VirtualAction, maxFrames = Number.POSITIVE_INFINITY) {\n        super(SchedulerAction, () => this.frame);\n        this.maxFrames = maxFrames;\n        this.frame = 0;\n        this.index = -1;\n    }\n    flush() {\n        const { actions, maxFrames } = this;\n        let error, action;\n        while ((action = actions[0]) && action.delay <= maxFrames) {\n            actions.shift();\n            this.frame = action.delay;\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\nVirtualTimeScheduler.frameTimeFactor = 10;\nexport class VirtualAction extends AsyncAction {\n    constructor(scheduler, work, index = scheduler.index += 1) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.index = index;\n        this.active = true;\n        this.index = scheduler.index = index;\n    }\n    schedule(state, delay = 0) {\n        if (!this.id) {\n            return super.schedule(state, delay);\n        }\n        this.active = false;\n        const action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        this.delay = scheduler.frame + delay;\n        const { actions } = scheduler;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        return undefined;\n    }\n    _execute(state, delay) {\n        if (this.active === true) {\n            return super._execute(state, delay);\n        }\n    }\n    static sortActions(a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}