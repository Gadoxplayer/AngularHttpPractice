{"ast":null,"code":"import _possibleConstructorReturn from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _isNativeReflectConstruct from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js\";\nimport _get from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function retryWhen(notifier) {\n  return function (source) {\n    return source.lift(new RetryWhenOperator(notifier, source));\n  };\n}\nvar RetryWhenOperator = /*#__PURE__*/function () {\n  function RetryWhenOperator(notifier, source) {\n    _classCallCheck(this, RetryWhenOperator);\n    this.notifier = notifier;\n    this.source = source;\n  }\n  _createClass(RetryWhenOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    }\n  }]);\n  return RetryWhenOperator;\n}();\nvar RetryWhenSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(RetryWhenSubscriber, _SimpleOuterSubscribe);\n  function RetryWhenSubscriber(destination, notifier, source) {\n    var _this;\n    _classCallCheck(this, RetryWhenSubscriber);\n    _this = _callSuper(this, RetryWhenSubscriber, [destination]);\n    _this.notifier = notifier;\n    _this.source = source;\n    return _this;\n  }\n  _createClass(RetryWhenSubscriber, [{\n    key: \"error\",\n    value: function error(err) {\n      if (!this.isStopped) {\n        var errors = this.errors;\n        var retries = this.retries;\n        var retriesSubscription = this.retriesSubscription;\n        if (!retries) {\n          errors = new Subject();\n          try {\n            var notifier = this.notifier;\n            retries = notifier(errors);\n          } catch (e) {\n            return _get(_getPrototypeOf(RetryWhenSubscriber.prototype), \"error\", this).call(this, e);\n          }\n          retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n        } else {\n          this.errors = undefined;\n          this.retriesSubscription = undefined;\n        }\n        this._unsubscribeAndRecycle();\n        this.errors = errors;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        errors.next(err);\n      }\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      var errors = this.errors,\n        retriesSubscription = this.retriesSubscription;\n      if (errors) {\n        errors.unsubscribe();\n        this.errors = undefined;\n      }\n      if (retriesSubscription) {\n        retriesSubscription.unsubscribe();\n        this.retriesSubscription = undefined;\n      }\n      this.retries = undefined;\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext() {\n      var _unsubscribe = this._unsubscribe;\n      this._unsubscribe = null;\n      this._unsubscribeAndRecycle();\n      this._unsubscribe = _unsubscribe;\n      this.source.subscribe(this);\n    }\n  }]);\n  return RetryWhenSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["Subject","SimpleOuterSubscriber","innerSubscribe","SimpleInnerSubscriber","retryWhen","notifier","source","lift","RetryWhenOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","RetryWhenSubscriber","_SimpleOuterSubscribe","_inherits","destination","_this","_callSuper","error","err","isStopped","errors","retries","retriesSubscription","e","_get","_getPrototypeOf","prototype","undefined","_unsubscribeAndRecycle","next","_unsubscribe","unsubscribe","notifyNext"],"sources":["D:/Documents/Eduardo/UdemyCourses/Angularhttp-01-start/node_modules/rxjs/_esm2015/internal/operators/retryWhen.js"],"sourcesContent":["import { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function retryWhen(notifier) {\n    return (source) => source.lift(new RetryWhenOperator(notifier, source));\n}\nclass RetryWhenOperator {\n    constructor(notifier, source) {\n        this.notifier = notifier;\n        this.source = source;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    }\n}\nclass RetryWhenSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, notifier, source) {\n        super(destination);\n        this.notifier = notifier;\n        this.source = source;\n    }\n    error(err) {\n        if (!this.isStopped) {\n            let errors = this.errors;\n            let retries = this.retries;\n            let retriesSubscription = this.retriesSubscription;\n            if (!retries) {\n                errors = new Subject();\n                try {\n                    const { notifier } = this;\n                    retries = notifier(errors);\n                }\n                catch (e) {\n                    return super.error(e);\n                }\n                retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n            }\n            else {\n                this.errors = undefined;\n                this.retriesSubscription = undefined;\n            }\n            this._unsubscribeAndRecycle();\n            this.errors = errors;\n            this.retries = retries;\n            this.retriesSubscription = retriesSubscription;\n            errors.next(err);\n        }\n    }\n    _unsubscribe() {\n        const { errors, retriesSubscription } = this;\n        if (errors) {\n            errors.unsubscribe();\n            this.errors = undefined;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = undefined;\n        }\n        this.retries = undefined;\n    }\n    notifyNext() {\n        const { _unsubscribe } = this;\n        this._unsubscribe = null;\n        this._unsubscribeAndRecycle();\n        this._unsubscribe = _unsubscribe;\n        this.source.subscribe(this);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}